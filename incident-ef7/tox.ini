[tox]
envlist = py{38,39,310,311,312},style

[testenv:py{38,39,310,311,312}]
extras = dev
deps =
  pytest-cov

commands =
  python -m pytest --cov=incident --cov-report=term-missing tests/

[testenv:style]
skip_install = true
deps =
  ruff
commands =
  ruff check ./src ./tests

[gh-actions]
python =
  3.8: py38
  3.9: py39
  3.10: py310
  3.11: py311, style
  3.12: py312